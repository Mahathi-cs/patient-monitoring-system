<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CI/CD Pipeline | PMS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
    --primary:#1e3c72;
    --secondary:#2a5298;
    --bg:#f4f6f9;
    --card:#ffffff;
    --text:#2c3e50;
    --muted:#7f8c8d;
    --success:#27ae60;
    --danger:#e74c3c;
    --warning:#f39c12;
}

*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:"Segoe UI",sans-serif;background:var(--bg);}

/* Sidebar */
.sidebar{
    width:230px;height:100vh;position:fixed;
    background:linear-gradient(160deg,var(--primary),var(--secondary));
    color:white;padding-top:25px;
}
.sidebar h2{text-align:center;margin-bottom:30px;}
.sidebar a{
    display:block;padding:14px 22px;color:white;
    text-decoration:none;font-size:14px;opacity:.9;
}
.sidebar a:hover,.sidebar a.active{
    background:rgba(255,255,255,.15);
}

/* Topbar */
.topbar{
    height:64px;background:white;margin-left:230px;
    display:flex;align-items:center;justify-content:space-between;
    padding:0 30px;
    box-shadow:0 4px 12px rgba(0,0,0,.08);
}
.topbar h1{font-size:22px;color:var(--text);}

.run-btn{
    padding:10px 18px;border:none;border-radius:8px;
    background:linear-gradient(120deg,var(--primary),var(--secondary));
    color:white;font-weight:600;cursor:pointer;
}

/* Main */
.main{margin-left:230px;padding:30px;}

/* Cards */
.cards{
    display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:20px;margin-bottom:30px;
}
.card{
    background:var(--card);
    padding:20px;border-radius:14px;
    box-shadow:0 10px 25px rgba(0,0,0,.08);
}
.card h3{font-size:14px;color:var(--muted);}
.card p{font-size:22px;font-weight:700;margin-top:6px;}

/* Pipeline */
.pipeline{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
    gap:20px;margin-bottom:30px;
}
.stage{
    background:white;padding:18px;border-radius:14px;
    text-align:center;
    box-shadow:0 8px 20px rgba(0,0,0,.08);
}
.stage h4{margin-bottom:10px;}
.badge{
    padding:6px 12px;border-radius:20px;
    font-size:12px;font-weight:600;
}
.pending{background:#ecf0f1;color:#7f8c8d;}
.running{background:#f1c40f;color:white;}
.success{background:var(--success);color:white;}
.failed{background:var(--danger);color:white;}

/* Logs */
.logs{
    background:white;padding:20px;border-radius:14px;
    box-shadow:0 10px 25px rgba(0,0,0,.08);
}
.logs h3{margin-bottom:10px;}
.log-box{
    background:#111;color:#0f0;
    padding:15px;border-radius:10px;
    height:200px;overflow:auto;
    font-family:monospace;font-size:13px;
}
</style>
</head>

<body>

<div class="sidebar">
    <h2>PMS</h2>
    <a href="dashboard.html">Dashboard</a>
    <a href="patients.html">Patients</a>
    <a href="alerts.html">Alerts</a>
    <a class="active" href="cicd.html">CI/CD</a>
    <a href="index.html">Logout</a>
</div>

<div class="topbar">
    <h1>CI/CD Pipeline</h1>
    <button class="run-btn" onclick="runPipeline()">â–¶ Run Pipeline</button>
</div>

<div class="main">

<div class="cards">
    <div class="card">
        <h3>Repository</h3>
        <p>GitHub</p>
    </div>
    <div class="card">
        <h3>Build Tool</h3>
        <p>Maven</p>
    </div>
    <div class="card">
        <h3>Container</h3>
        <p>Docker</p>
    </div>
    <div class="card">
        <h3>Deployment</h3>
        <p>Cloud</p>
    </div>
</div>

<div class="pipeline">
    <div class="stage"><h4>Git Pull</h4><span class="badge pending" id="git">Pending</span></div>
    <div class="stage"><h4>Build</h4><span class="badge pending" id="build">Pending</span></div>
    <div class="stage"><h4>Test</h4><span class="badge pending" id="test">Pending</span></div>
    <div class="stage"><h4>Docker</h4><span class="badge pending" id="docker">Pending</span></div>
    <div class="stage"><h4>Deploy</h4><span class="badge pending" id="deploy">Pending</span></div>
</div>

<div class="logs">
    <h3>Pipeline Logs</h3>
    <div class="log-box" id="logs"></div>
</div>

</div>

<script>
const stages=["git","build","test","docker","deploy"];
const logs=document.getElementById("logs");

function log(msg){
    logs.innerHTML+=msg+"<br>";
    logs.scrollTop=logs.scrollHeight;
}

function reset(){
    logs.innerHTML="";
    stages.forEach(s=>{
        const el=document.getElementById(s);
        el.className="badge pending";
        el.innerText="Pending";
    });
}

function runPipeline(){
    reset();
    let i=0;

    function next(){
        if(i>0){
            const prev=document.getElementById(stages[i-1]);
            prev.className="badge success";
            prev.innerText="Success";
        }
        if(i<stages.length){
            const cur=document.getElementById(stages[i]);
            cur.className="badge running";
            cur.innerText="Running";
            log(`â–¶ ${stages[i].toUpperCase()} stage started...`);
            setTimeout(()=>{
                log(`âœ” ${stages[i].toUpperCase()} stage completed`);
                i++; next();
            },1000);
        }else{
            log("ðŸŽ‰ Pipeline executed successfully!");
        }
    }
    next();
}
</script>

</body>
</html>
